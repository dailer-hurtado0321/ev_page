(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t){t.CONFIG={VERSION:"0.4.2",HOST:"127.0.0.1",REDIRECT_URI:"https://server.certalink.com"}},35:function(e,t,a){e.exports=a(71)},40:function(e,t,a){},46:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(19),s=a.n(l),o=a(14),r=a(13),i=a(24),u=a(23),m=(a(40),a(12)),d=a.n(m),E=a(16),p=a(5),f=a(1),g=function(){function e(){Object(o.a)(this,e),this.isConnected=!1,this.serverPath="",this.keepConnection=!0,this.callbacks=[],this.dispatch=null,console.log("Socket client is created.")}return Object(r.a)(e,null,[{key:"getInstance",value:function(){return e._inst||(e._inst=new e),e._inst}}]),Object(r.a)(e,[{key:"initWithDispatch",value:function(e){this.dispatch=e}},{key:"connect",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.serverPath=e,this.keepConnection=t,this.socket&&this.socket.readyState!==WebSocket.CLOSED)console.log("Bad call to connect while client socket is running.");else try{this.socket=new WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onerror=this.onError,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage}catch(a){console.error("Error in connecting server.",a)}}},{key:"send",value:function(e,t){try{this.socket.send(JSON.stringify({type:e,data:t}))}catch(a){console.error("Error in sending data to server.",a)}}},{key:"numberWithCommas",value:function(e){return e>999?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e}},{key:"addEventListener",value:function(e,t){this.callbacks.push({eventType:e,callback:t})}},{key:"removeEventListener",value:function(e,t){this.callbacks=this.callbacks.filter((function(a){return a.eventType!==e||a.callback!==t}))}},{key:"callProperCallback",value:function(e,t){this.callbacks.forEach((function(a){a.eventType===e&&a.callback(t)}))}},{key:"onOpen",value:function(t){console.log("Socket is opend."),e.getInstance().isConnected=!0,e.getInstance().callProperCallback(e.EVENT.OPEN,t),e.getInstance().dispatch({type:"SOCKET_CONNECTION",response:e.getInstance().isConnected})}},{key:"onError",value:function(t){console.log("Socket error."),e.getInstance().isConnected=!1,e.getInstance().callProperCallback(e.EVENT.ERROR,t),e.getInstance().dispatch({type:"SOCKET_CONNECTION",response:e.getInstance().isConnected})}},{key:"onClose",value:function(t){console.log("Socket is closed."),e.getInstance().isConnected=!1,e.getInstance().dispatch({type:"SOCKET_CONNECTION",response:e.getInstance().isConnected}),e.getInstance().callProperCallback(e.EVENT.CLOSE,t),e.getInstance().keepConnection&&setTimeout((function(){return e.getInstance().connect(e.getInstance().serverPath,!0)}),5e3)}},{key:"onMessage",value:function(t){console.log("Socket message.",e.EVENT.MESSAGE),e.getInstance().callProperCallback(e.EVENT.MESSAGE,t)}}]),e}();g._inst=null,g.EVENT={OPEN:"SOCKET_OPEN",CLOSE:"SOCKET_CLOSED",ERROR:"SOCKET_ERROR",MESSAGE:"SOCKET_MESSAGE",LOGOUT:"LOG_OUT",LOGIN:"LOG_IN"};var v=a(8),b=a(22),h=a(2),O=(Object(b.a)("pk_test_51GsJaTENKR3DelSmluW4kP0QbP1fldW9sVMuegxwyMbmBt7yduvqb3Y0uvvNyZv9Da3gLS5o8iv25LSGvGOWYxDk009lbSNn9f"),{iconStyle:"solid",style:{base:{iconColor:"#c4f0ff",color:"#fff",fontWeight:500,fontFamily:"Roboto, Open Sans, Segoe UI, sans-serif",fontSize:"16px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#fce883"},"::placeholder":{color:"#87bbfd"}},invalid:{iconColor:"#ffc7ee",color:"#ffc7ee"}}}),C=function(e){var t=e.onChange;return c.a.createElement("div",{className:"FormRow"},c.a.createElement(v.CardElement,{options:O,onChange:t}))},S=function(e){var t=e.label,a=e.id,n=e.type,l=e.placeholder,s=e.required,o=e.autoComplete,r=e.value,i=e.onChange;return c.a.createElement("div",{className:"FormRow"},c.a.createElement("label",{htmlFor:a,className:"FormRowLabel"},t),c.a.createElement("input",{className:"FormRowInput",id:a,type:n,placeholder:l,required:s,autoComplete:o,value:r,onChange:i}))},k=function(e){var t=e.processing,a=e.error,n=e.children,l=e.disabled;return c.a.createElement("button",{className:"SubmitButton ".concat(a?"SubmitButton--error":""),type:"submit",disabled:t||l},t?"Processing...":n)},y=function(e){var t=e.children;return c.a.createElement("div",{className:"ErrorMessage",role:"alert"},c.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 17 17"},c.a.createElement("path",{fill:"#FFF",d:"M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z"}),c.a.createElement("path",{fill:"#6772e5",d:"M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z"})),t)},j=function(e){var t=e.onClick;return c.a.createElement("button",{type:"button",className:"ResetButton",onClick:t},c.a.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 32 32"},c.a.createElement("path",{fill:"#FFF",d:"M15,7.05492878 C10.5000495,7.55237307 7,11.3674463 7,16 C7,20.9705627 11.0294373,25 16,25 C20.9705627,25 25,20.9705627 25,16 C25,15.3627484 24.4834055,14.8461538 23.8461538,14.8461538 C23.2089022,14.8461538 22.6923077,15.3627484 22.6923077,16 C22.6923077,19.6960595 19.6960595,22.6923077 16,22.6923077 C12.3039405,22.6923077 9.30769231,19.6960595 9.30769231,16 C9.30769231,12.3039405 12.3039405,9.30769231 16,9.30769231 L16,12.0841673 C16,12.1800431 16.0275652,12.2738974 16.0794108,12.354546 C16.2287368,12.5868311 16.5380938,12.6540826 16.7703788,12.5047565 L22.3457501,8.92058924 L22.3457501,8.92058924 C22.4060014,8.88185624 22.4572275,8.83063012 22.4959605,8.7703788 C22.6452866,8.53809377 22.5780351,8.22873685 22.3457501,8.07941076 L22.3457501,8.07941076 L16.7703788,4.49524351 C16.6897301,4.44339794 16.5958758,4.41583275 16.5,4.41583275 C16.2238576,4.41583275 16,4.63969037 16,4.91583275 L16,7 L15,7 L15,7.05492878 Z M16,32 C7.163444,32 0,24.836556 0,16 C0,7.163444 7.163444,0 16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 Z"})))},I=function(e){var t=e.amount,a=Object(f.c)((function(e){return e.socket})),l=Object(f.b)(),s=Object(v.useStripe)(),o=Object(v.useElements)(),r=Object(n.useState)(null),i=Object(p.a)(r,2),u=i[0],m=i[1],b=Object(n.useState)({}),O=Object(p.a)(b,2),I=(O[0],O[1]),_=Object(n.useState)(!1),T=Object(p.a)(_,2),N=T[0],w=T[1],x=Object(n.useState)(null),L=Object(p.a)(x,2),R=L[0],A=L[1],G=Object(n.useState)({email:"",name:""}),P=Object(p.a)(G,2),D=P[0],M=P[1];Object(n.useEffect)((function(){a.payment_secret&&W(a.payment_secret)}));var W=function(){var e=Object(E.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("before paymentSuccess",t,D.name,o.getElement(v.CardElement)),e.next=3,s.confirmCardPayment(t,{payment_method:{card:o.getElement(v.CardElement),billing_details:{name:D.name}},receipt_email:D.email});case 3:n=e.sent,l({type:"PAYMENT",response:null}),n.error?(console.log("result-error",n.error),m(n.error)):"succeeded"===n.paymentIntent.status&&(console.log("result-paymentSuccess",n.paymentIntent),console.log("email to send payment",a.status.email),g.getInstance().send("paymentSuccess",{paymentIntent:n.paymentIntent,email:a.status.email,tabId:1}),A(n.paymentIntent));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(E.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s&&o){e.next=3;break}return e.abrupt("return");case 3:if(!u){e.next=6;break}return o.getElement("card").focus(),e.abrupt("return");case 6:g.getInstance().send("payment",{amount:t,tabId:1}),I(o.getElement(v.CardElement)),console.log("elements.getElement(CardElement)",o.getElement(v.CardElement));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return R?c.a.createElement("div",{className:"Result"},c.a.createElement("div",{className:"ResultTitle",role:"alert"},"Payment successful"),c.a.createElement("div",{className:"ResultMessage"}),c.a.createElement(j,{onClick:function(){m(null),w(!1),A(null),M({email:"",name:""})}})):c.a.createElement("form",{className:"Form",onSubmit:F},c.a.createElement("fieldset",{className:"FormGroup"},c.a.createElement(S,{label:"Name",id:"name",type:"text",placeholder:"Dailer Hurtado",required:!0,autoComplete:"name",value:D.name,onChange:function(e){M(Object(h.a)(Object(h.a)({},D),{},{name:e.target.value}))}}),c.a.createElement(S,{label:"Email",id:"email",type:"email",placeholder:"dailerhurtado0321@gmail.com",required:!0,autoComplete:"email",value:D.email,onChange:function(e){M(Object(h.a)(Object(h.a)({},D),{},{email:e.target.value}))}})),c.a.createElement("fieldset",{className:"FormGroup"},c.a.createElement(C,{onChange:function(e){m(e.error)}})),u&&c.a.createElement(y,null,u.message),c.a.createElement(k,{processing:N,error:u,disabled:!s},"Purchage ",t,"Credits"))},_=(a(46),Object(b.a)("pk_test_51GsJaTENKR3DelSmluW4kP0QbP1fldW9sVMuegxwyMbmBt7yduvqb3Y0uvvNyZv9Da3gLS5o8iv25LSGvGOWYxDk009lbSNn9f")),T=function(e){e.props,Object(f.b)();var t=Object(n.useState)(1e3),a=Object(p.a)(t,2),l=a[0],s=a[1];Object(n.useEffect)((function(){}),[]);var o=Object(f.c)((function(e){return e.socket}));return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{class:"mt-4 box"},c.a.createElement("span",{style:{width:"100%"}},c.a.createElement("b",null,"Pipedrive User: "),o.user.name)),c.a.createElement("div",{class:"mt-4 box"},c.a.createElement("span",{style:{width:"100%"}},c.a.createElement("b",null,"Organisztion: "),o.user.company_name)),c.a.createElement("div",{class:"mt-4 box"},c.a.createElement("span",{style:{width:"100%"}},c.a.createElement("b",null,"Credits: "),g.getInstance().numberWithCommas(o.credits)))),c.a.createElement("div",{class:"box mt-4"},c.a.createElement("select",{value:l,onChange:function(e){s(e.target.value)},style:{width:"100%"}},c.a.createElement("option",{value:"1000"},"1,000 credits for US $8"),c.a.createElement("option",{value:"5000"},"5,000 credits for US $39"),c.a.createElement("option",{value:"25000"},"25,000 credits for US $169"))),c.a.createElement("div",null,c.a.createElement(v.Elements,{stripe:_,options:{fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Roboto"}]}},c.a.createElement(I,{amount:l}))))},N=a(15),w=a.n(N),x=function(){var e=Object(f.b)();Object(n.useEffect)((function(){0==t.scanned_emails&&e({type:"SET_STAGE",response:"email_not_found"})}),[]);var t=Object(f.c)((function(e){return e.socket}));return console.log("socket finish catch",t),c.a.createElement("div",null,"finished"===t.stage?c.a.createElement("div",null,c.a.createElement("h3",null,"Email validation is done."),c.a.createElement("p",null,"We sent you email with the results on"," ",c.a.createElement("span",{id:"finishedEmail"}),"If you have any queries please email support@certalink.com")):c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("h3",{style:{margin:"auto 20px "}}," Validating"),c.a.createElement("span",null,c.a.createElement(w.a,{type:"ThreeDots",color:"#e07b12",height:"80",width:"80"}))),c.a.createElement("p",null,"Our server is now validating your emails, This process will take approximately 40 minutes to complete. We will send an email when the update is complete.")))},L=function(){var e=Object(f.b)();Object(n.useEffect)((function(){0==t.scanned_emails&&e({type:"SET_STAGE",response:"email_not_found"})}),[]);var t=Object(f.c)((function(e){return e.socket}));return c.a.createElement("div",null,c.a.createElement("h3",null,"Scanned"),c.a.createElement("div",{class:"mt-4 box"},c.a.createElement("span",null,c.a.createElement("b",null,"Person scanned: "),g.getInstance().numberWithCommas(t.scanned_persons))),c.a.createElement("div",{class:"mt-4 box"},c.a.createElement("span",null,c.a.createElement("b",null,"Unique emails: "),g.getInstance().numberWithCommas(t.scanned_emails))),c.a.createElement("div",{class:"box mt-4"},c.a.createElement("button",{onClick:function(){g.getInstance().send("validate",{csv:t.csv,email:t.email,idToEmail:t.idToEmail}),e({type:"SET_STAGE",response:"validating"})}},"Validate Emails")))},R=function(e){var t=e.idOfFilter,a=Object(f.b)(),l=Object(n.useState)(0),s=Object(p.a)(l,2),o=s[0],r=s[1],i=Object(n.useState)(0),u=Object(p.a)(i,2),m=u[0],d=u[1];Object(n.useEffect)((function(){"scanning"===E.stage&&k(0,t)}),[]);var E=Object(f.c)((function(e){return e.socket})),v={message:"starting scaning",scanned:0,emails:0,invalid_emails:0},b={},h={},O="",C={},S={};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;console.log("allPesonsEmails",{page:e,filter:t}),fetch("https://api.pipedrive.com/v1/persons?filter_id=".concat(t,"&start=").concat(e,"&api_token=").concat("cc638af3ea2783059aae7e32b5b80e34c1f0d1f4","&limit=100"),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(a){y(a.data),a.additional_data.pagination.more_items_in_collection?k(e+100,t):j()})).catch((function(e){console.error("Error:",e),console.log("noEmailFound")}))}function y(e){null!=e&&e[0]&&(console.log("collectEmails",e),e.forEach((function(e){b[e.id]||(v.scanned++,d(v.scanned),e.email[0]&&e.email[0].value&&(C[e.id]=[],e.email.forEach((function(t){-1==t.value.indexOf(",")?(C[e.id].push(t.value),h[t.value]?h[t.value]++:(v.emails++,r(v.emails),h[t.value]=1,O+="\n".concat(t.value,",").concat(e.first_name,",").concat(e.last_name))):S[t.value]?S[t.value]++:(v.invalid_emails++,S[t.value]=1)}))))})),console.log("emails",h),console.log("scanStatusemails",v.emails),console.log("canStatus.scanned",v.scanned),console.log("scanStatusinvalid_emails",v.invalid_emails))}var j=function(){d(v.scanned),r(v.emails),console.log("scan finished",v.emails,v.scanned),console.log("scan scanedMail",o),a({type:"SET_VALIDATE",response:{scanned_persons:v.scanned,scanned_emails:v.emails,csv:O,idToEmail:C,email:E.user.email}}),a({type:"SET_STAGE",response:"scan_finished"})};return c.a.createElement("div",null,"scan_finished"===E.stage?c.a.createElement(L,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex  "}},c.a.createElement("h3",{style:{margin:"auto 20px "}},"Scanning")," ",c.a.createElement("span",null,c.a.createElement(w.a,{type:"ThreeDots",color:"#e07b12",height:"80",width:"80"}))),c.a.createElement("div",{class:"mt-4 box"},c.a.createElement("span",null,c.a.createElement("b",null,"Person scanned: "),g.getInstance().numberWithCommas(m))),c.a.createElement("div",{class:"mt-4 box"},c.a.createElement("span",null,c.a.createElement("b",null,"Unique emails: "),g.getInstance().numberWithCommas(o)))))},A=a(34),G=function(e){e.props;var t=Object(f.b)(),a=Object(n.useState)([]),l=Object(p.a)(a,2),s=l[0],o=l[1],r=Object(n.useState)(0),i=Object(p.a)(r,2),u=i[0],m=i[1];Object(n.useEffect)((function(){d.loggedIn&&fetch("https://api.pipedrive.com/v1/filters?type=people&api_token=".concat("cc638af3ea2783059aae7e32b5b80e34c1f0d1f4"),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){o(e.data),o((function(e){return[{id:0,name:"All Contacts"}].concat(Object(A.a)(e))}))}))}),[]);var d=Object(f.c)((function(e){return e.socket}));function E(e){m(e.target.value)}var g=function(){t({type:"SET_STAGE",response:"scanning"})},v=s.length>0&&s.map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)}),void 0);return c.a.createElement("div",{class:"mt-4"},"scanning"===d.stage&&c.a.createElement(R,{idOfFilter:u}),"validating"===d.stage&&c.a.createElement(x,null),"finished"===d.stage&&c.a.createElement(x,null),"scan_finished"===d.stage&&c.a.createElement(R,null),"selected"===d.stage&&c.a.createElement("div",null,c.a.createElement("div",null,'Choose "All Contacts" or select a filter to check'),c.a.createElement("div",{class:"box"},c.a.createElement("select",{class:"mt-2",value:u,onChange:E},v)),c.a.createElement("div",{class:"mt-4"},"Contacts might have than one email or duplicates. Before we can continue we need to find all of them. This usually takes less than a minute."),c.a.createElement("div",{class:"box"},c.a.createElement("button",{onClick:g},c.a.createElement("i",{class:"fa fa-search mr-3"}),"Scan Selected"))),"email_not_found"===d.stage&&c.a.createElement("div",null,c.a.createElement("div",{class:"mt-4",style:{color:"red"}},"Emails Not Founded with Seleted Filter. Try again."),c.a.createElement("div",{class:"mt-4"},'Choose "All Contacts" or select a filter to check'),c.a.createElement("select",{class:"mt-2",value:u,onChange:E},v),c.a.createElement("div",{class:"mt-4"},"Contacts might have than one email or duplicates. Before we can continue we need to find all of them. This usually takes less than a minute."),c.a.createElement("button",{class:"mt-4",style:{background:"#54807e",color:"white"},onClick:g},"SCAN SELECTED")))},P=function(e){e.props;Object(n.useEffect)((function(){}),[]);Object(f.c)((function(e){return e.socket}));return c.a.createElement("div",null,c.a.createElement(G,null))},D=(a(66),a(32)),M=function(e){e.props;var t=Object(n.useState)(!1),a=Object(p.a)(t,2),l=a[0],s=a[1],o=Object(f.c)((function(e){return e.socket})),r=Object(f.b)(),i=document.location.href.indexOf("code=")>-1;Object(n.useEffect)((function(){if(!o.loggedIn&&i&&document.location.href.includes("code=")){var e=document.location.href.split("code=")[1].split("#")[0];s(!0),r({type:"OAUTH_CODE",response:e}),Object(E.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getInstance().send("oauth",{params:e,tabId:""});case 2:return t.next=4,g.getInstance().send("status",{token:"cc638af3ea2783059aae7e32b5b80e34c1f0d1f4"});case 4:console.log("code",e);case 5:case"end":return t.stop()}}),t)})))()}o&&o.isLoggingIn&&(alert("loggedin"),g.getInstance().send("status",{token:"cc638af3ea2783059aae7e32b5b80e34c1f0d1f4"}),window.location=D.Config.REDIRECT_URI)}),[]);return c.a.createElement("div",{class:"container"},c.a.createElement("div",{class:"section"},c.a.createElement("h1",{class:"section-title"}," Validate Emails")),c.a.createElement("div",{class:"agileits-top"},o.loggedIn?c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-sm-5 "},c.a.createElement(T,null)),c.a.createElement("div",{class:"col-sm-1"}),c.a.createElement("div",{class:"col-sm-6 "},c.a.createElement(P,null))):c.a.createElement("div",null,l?c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("h3",{style:{margin:"auto 20px "}}," ","Connecting Pipedrive"),c.a.createElement("span",null,c.a.createElement(w.a,{type:"ThreeDots",color:"#2BAD60",height:"80",width:"80"}))):c.a.createElement("div",null,c.a.createElement("a",{target:"blank",href:"https://oauth.pipedrive.com/oauth/authorize?client_id=67c7097db1c334ad&redirect_uri=https://server.certalink.com"},c.a.createElement("button",{id:"loginButton",onClick:function(){s(!0)}},"Connect to Pipedrive"))))))},W=(a(67),a(32)),F=function(e){e.props;var t=Object(f.b)();Object(n.useEffect)((function(){g.getInstance().initWithDispatch(t),g.getInstance().addEventListener(g.EVENT.MESSAGE,(function(e){var a=JSON.parse(e.data);switch(console.log("SOCKET MESSAGE",a),a.type){case"error":t({type:"ERROR",response:a.data});break;case"payment":console.log("loggedin",a.data.secret),t({type:"PAYMENT",response:a.data.secret});break;case"loggedin":console.log("loggedin",a.data.auth),localStorage.setItem("user",JSON.stringify(a.data.auth)),localStorage.setItem("access_token",JSON.stringify(a.data.access_token)),localStorage.setItem("loggedIn",!0),t({type:"LOG_IN",response:a.data}),window.location=W.Config.REDIRECT_URI;break;case"testing":console.log("testing",a.data);break;case"status":console.log("status",a.data),localStorage.setItem("status",JSON.stringify(a.data)),t({type:"STATUS",response:a.data});break;case"update":console.log("update",a.data),"payment"==a.data.state?g.getInstance().send("status",{token:"cc638af3ea2783059aae7e32b5b80e34c1f0d1f4"}):t({type:"SET_STAGE",response:a.data.state});break;case"file":console.log(a.data);var n="data:text/csv;charset=utf-8,"+encodeURIComponent(a.data),c=document.createElement("a");c.href=n,c.download="test.csv",document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c)}),0)}}))}),[]);var a=Object(f.c)((function(e){return e.socket}));return a.loggedIn&&console.log("socket connection",a),c.a.createElement("div",{class:"container"},c.a.createElement("div",{class:"main-w3layouts wrapper"},a.connection?c.a.createElement(M,null):c.a.createElement("h1",null,"Connection Error")))},U=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,"profile page")}}]),a}(n.Component),B=function(e){e.props;return c.a.createElement("p",null)},J=a(72),V=function(){return c.a.createElement(J.d,null,c.a.createElement(J.b,{path:"/",exact:!0,component:F}),c.a.createElement(J.b,{path:"/about",exact:!0,component:B}),c.a.createElement(J.b,{path:"/pages/profile/",exact:!0,component:U}),c.a.createElement(J.a,{exact:!0,to:"/"}))},K=(a(69),function(){return c.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-default static-top"},c.a.createElement("div",{class:"container"},c.a.createElement("a",{class:"navbar-brand",href:"#"},c.a.createElement("img",{src:"http://placehold.it/150x50?text=Logo",alt:""})),c.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{class:"navbar-toggler-icon"})),c.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarResponsive"},c.a.createElement("ul",{class:"navbar-nav ml-auto"},c.a.createElement("li",{class:"nav-item active"},c.a.createElement("a",{class:"nav-link",href:"#"},"Home",c.a.createElement("span",{class:"sr-only"},"(current)"))),c.a.createElement("li",{class:"nav-item"},c.a.createElement("a",{class:"nav-link",href:"#"},"About")),c.a.createElement("li",{class:"nav-item"},c.a.createElement("a",{class:"nav-link",href:"#"},"Services")),c.a.createElement("li",{class:"nav-item"},c.a.createElement("a",{class:"nav-link",href:"#"},"Contact")),c.a.createElement("li",{class:"nav-item"},c.a.createElement("a",{class:"nav-link",href:"",onClick:function(){localStorage.removeItem("loggedIn"),localStorage.removeItem("user"),localStorage.removeItem("access_token")}},"Logout"))))))}),q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){g.getInstance().connect("ws://127.0.0.1:8888")},n.state={storage:0,web3:null,accounts:null,incidents:null,crowdsale:null,fund:null},n}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(K,null),c.a.createElement("main",null,c.a.createElement(V,null)))}}]),a}(n.Component),Y=(a(70),a(11));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(6),H=localStorage.getItem("loggedIn"),$=H?JSON.parse(localStorage.getItem("user")):{},z=H?JSON.parse(localStorage.getItem("status")):{},Q=H?JSON.parse(localStorage.getItem("access_token")):"",X={connection:!1,code:"",credits:z.credits,loggedIn:H,user:$,status:z,access_token:Q,stage:"selected"},ee=Object(Z.b)({socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.response;switch(a){case"SOCKET_CONNECTION":return console.log("socket connect res",n),Object(h.a)(Object(h.a)({},e),{},{connection:n});case"OAUTH_CODE":return Object(h.a)(Object(h.a)({},e),{},{code:n});case"SCANNING":return Object(h.a)(Object(h.a)({},e),{},{stage:"scanning"});case"PAYMENT":return Object(h.a)(Object(h.a)({},e),{},{payment_secret:n});case"SET_STAGE":return Object(h.a)(Object(h.a)({},e),{},{stage:n});case"SET_VALIDATE":return console.log("validate",n),Object(h.a)(Object(h.a)({},e),{},{scanned_persons:n.scanned_persons,scanned_emails:n.scanned_emails,csv:n.csv,idToEmail:n.idToEmail,email:n.email});case"LOG_IN":return H=localStorage.getItem("loggedIn"),$=H?JSON.parse(localStorage.getItem("user")):{},Q=H?JSON.parse(localStorage.getItem("access_token")):"",Object(h.a)(Object(h.a)({},e),{},{loggedIn:H,user:$,access_token:Q});case"STATUS":return z=H?JSON.parse(localStorage.getItem("status")):{},Object(h.a)(Object(h.a)({},e),{},{credits:z.credits});case"UPDATE_CREDIT":return Object(h.a)({},e);case"INITILIZE_WEB3":return Object(h.a)(Object(h.a)({},e),{},{web3:n});case"WEB3_GET_ACCOUNTS":return Object(h.a)(Object(h.a)({},e),{},{accounts:n});default:return e}}}),te=Object(Z.c)(ee),ae=Y.a();s.a.render(c.a.createElement(f.a,{store:te},c.a.createElement(J.c,{history:ae},c.a.createElement(J.b,{component:q}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.26456fef.chunk.js.map